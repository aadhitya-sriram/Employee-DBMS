#include <stdio.h>
#include <string.h>
#include <stdlib.h>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
#define MAX_EMP 30

typedef struct employee
{
        int id;
        char name[30];
        char dept[10];
        char desg[20];
        char gen;
        int age;
        int salary;
}emp;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
FILE * fp;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
int total_count(){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        fp = fopen("./files/mainDB.txt","r");
        if (fp == NULL){
                printf("Error! Can't open file.");
        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        int c = 0;
        int ch = getc(fp);
        while (ch != EOF){
                if (ch == '\n'){
                        c+=1;
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                ch = getc(fp);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        fclose(fp);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
        return (c+1);
}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
emp* get_data(){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        FILE * fp = fopen("./files/mainDB.txt","r");
        if (fp == NULL){
                printf("Error! Can't open file.");
        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        int n = total_count();
        rewind(fp);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        emp* arr = (emp*)malloc(MAX_EMP*sizeof(emp));
        emp e;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        int x, y, z;
        char str1[20], str2[10], str3[20], gen;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        for (int i=0; i<n; i++){
                fscanf(fp,"%d %d %d %c %s %s %s",&x,&y,&z,&gen,str1, str2, str3);
                e.id = x;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                e.salary = y;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                e.age = z;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
                e.gen = gen;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
                strcpy(e.name,str1);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
                strcpy(e.dept,str2);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
                strcpy(e.desg,str3);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
                arr[i] = e;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          
        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        fclose(fp);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
        return arr;
}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
void writefile(emp* arr){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        int n = total_count();
        FILE * fp = fopen("./files/temp.txt","w");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        if (fp == NULL){
                printf("Error! Can't open file.");
        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        for (int i=0; i<n-1; i++){
                fprintf(fp,"%d %d %d %c %s %s %s\n",arr[i].id,arr[i].salary,arr[i].age,arr[i].gen,arr[i].name,arr[i].dept,arr[i].desg);
        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        remove("./files/mainDB.txt");
        fclose(fp);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
int delete(emp* arr){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        int n = total_count(), id, found = 1;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        printf("\nEnter EmpID to delete: ");
        scanf("%d",&id);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        int op;
        printf("\nAre you sure you want to delete?\n1. Yes\n2. No\nEnter option: ");
        scanf("%d",&op);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        if (op == 2){
                return 0;
        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        FILE * fp = fopen("./files/temp.txt","w");
        if (fp == NULL){
                printf("Error! Can't open file.");
        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        for (int i=0; i<n-1; i++){
                if (arr[i].id == id){
                        found = 2;
                        continue;
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                fprintf(fp,"%d %d %d %c %s %s %s\n",arr[i].id,arr[i].salary,arr[i].age,arr[i].gen,arr[i].name,arr[i].dept,arr[i].desg);
        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        fclose(fp);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        if (found == 1){
                printf("\nEmployee not found!\n");
        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        remove("./files/mainDB.txt");
        rename("./files/temp.txt","./files/mainDB.txt");
}

void display(emp* arr){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        int n = total_count(), op;
        printf("\nHow to display?\n1. Data-view\n2. Table-view\nEnter option: ");
        scanf("%d",&op);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        printf("\nEMPLOYEE DATABASE:\n");
        if (op == 1){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                for (int i=0; i<n-1; i++){
                        printf("\nID: %d\nNAME: %s\nAGE: %d\nGENDER: %c\nDEPT: %s\nDESGN: %s\nSALARY: %d\n",arr[i].id,arr[i].name,arr[i].age,arr[i].gen,arr[i].dept,arr[i].desg,arr[i].salary);
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
        }
        else if (op == 2){
                printf("\nID\t\tNAME\t\tAGE\t\tGENDER\t\tSALARY\t\tDEPT\t\tDESGN\n");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                for (int i=0; i<n-1; i++){
                        printf("\n%d\t\t%s\t\t%d\t\t%c\t\t%d\t\t%s\t\t%s",arr[i].id,arr[i].name,arr[i].age,arr[i].gen,arr[i].salary,arr[i].dept,arr[i].desg);
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        printf("\n");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
void search(emp* arr){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        int id;
        printf("\nSEARCH:\nEnter employee ID: ");
        scanf("%d",&id);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        int n = total_count();
        rewind(fp);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        for (int i=0; i<n; i++){
                if (arr[i].id == id){
                        printf("\nRESULT:\nNAME: %s\nID: %d\nAGE: %d\nGENDER: %c\nDEPT: %s\nDESGN: %s\nSALARY: %d\n",arr[i].name,arr[i].id,arr[i].age,arr[i].gen,arr[i].dept,arr[i].desg,arr[i].salary);
                        break;
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
        }
}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
int update(emp* arr){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        int id;
        printf("\nUPDATE:\nEnter employee ID: ");
        scanf("%d",&id);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        emp* e;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
        int found = 1;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        for (int i=0; i<total_count(); i++){
                if (arr[i].id == id){
                        found = 2;
                        e = &arr[i];                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
                        break;
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        if (found == 1){
                printf("\nERROR: Record not found!");
                return 0;
        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        int op;
        while(1){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                printf("\nWhat to update?\n1. Name\n2. Age\n3. Salary\n4. Department\n5. Designation\n0. No update/Exit\n\nEnter option: ");
                scanf("%d",&op);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                if (op == 1){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                        char str[30];
                        printf("Enter new name: ");
                        scanf(" %[^\n]s",str);
                        strcpy(e->name,str);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                else if (op == 3){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                        int sal;
                        printf("Enter new salary: ");
                        scanf("%d",&sal);
                        e->salary = sal;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                else if (op == 2){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                        int age;
                        printf("Enter new age: ");
                        scanf("%d",&age);
                        e->age = age;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                else if (op == 4){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                        char dept[10];
                        printf("Enter new department: ");
                        scanf(" %[^\n]s",dept);
                        strcpy(e->dept,dept);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                else if (op == 5){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                        char desg[20];
                        printf("Enter new designation: ");
                        scanf(" %[^\n]s",desg);
                        strcpy(e->desg,desg);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                }else{
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                        break;
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        writefile(arr);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
        rename("./files/temp.txt","./files/mainDB.txt");
}

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
void newemp(emp* arr){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        emp e;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        printf("Enter employee ID: ");
        scanf("%d",&e.id);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        printf("Enter employee Name: ");
        scanf(" %[^\n]s",e.name);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        printf("Enter employee Age: ");
        scanf("%d",&e.age);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        printf("Enter employee gender: ");
        scanf(" %c",&e.gen);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        printf("Enter employee Department: ");
        scanf(" %[^\n]s",e.dept);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        printf("Enter employee Designation: ");
        scanf(" %[^\n]s",e.desg);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        printf("Enter employee Salary: ");
        scanf("%d",&e.salary);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        FILE * fp = fopen("./files/mainDB.txt","a");
        if (fp == NULL){
                printf("Error! Can't open file.");
        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        fprintf(fp,"%d %d %d %c %s %s %s\n",e.id,e.salary,e.age,e.gen,e.name,e.dept,e.desg);
        fclose(fp);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
void selectt(emp* arr){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        int op;
        printf("\nWhat to select?\n1. Departmrent\n2. Age\n3. Salary\n4. Desgn\n5. Gender\n0. Exit\nEnter option: ");
        scanf("%d",&op);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        int n = total_count();
        rewind(fp);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        if (op == 1){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                char dep[10];
                printf("\nEnter department to select: ");
                scanf(" %[^\n]s",dep);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                printf("\nID\t\tNAME\t\tAGE\t\tGENDER\t\tSALARY\t\tDEPT\t\tDESGN\n");
                for (int i=0; i<n-1; i++){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                        if (strcmp(arr[i].dept,dep) == 0){
                        printf("\n%d\t\t%s\t\t%d\t\t%c\t\t%d\t\t%s\t\t%s",arr[i].id,arr[i].name,arr[i].age,arr[i].gen,arr[i].salary,arr[i].dept,arr[i].desg);
                        }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
        }
        else if (op == 2){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                int a1,a2;
                printf("\nEnter age lowerlimit: ");
                scanf("%d",&a1);
                printf("Enter age upperlimit: ");
                scanf("%d",&a2);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                printf("\nID\t\tNAME\t\tAGE\t\tGENDER\t\tSALARY\t\tDEPT\t\tDESGN\n");
                for (int i=0; i<n-1; i++){
                        if ( (arr[i].age >= a1) && (arr[i].age <= a2) ){
                        printf("\n%d\t\t%s\t\t%d\t\t%c\t\t%d\t\t%s\t\t%s",arr[i].id,arr[i].name,arr[i].age,arr[i].gen,arr[i].salary,arr[i].dept,arr[i].desg);
                        }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
        }
        else if (op == 3){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                int s1,s2;
                printf("\nEnter salary lowerlimit: ");
                scanf("%d",&s1);
                printf("Enter salary upperlimit: ");
                scanf("%d",&s2);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                printf("\nID\t\tNAME\t\tAGE\t\tGENDER\t\tSALARY\t\tDEPT\t\tDESGN\n");
                for (int i=0; i<n-1; i++){
                        if ( (arr[i].salary >= s1) && (arr[i].salary <= s2) ){
                        printf("\n%d\t\t%s\t\t%d\t\t%c\t\t%d\t\t%s\t\t%s",arr[i].id,arr[i].name,arr[i].age,arr[i].gen,arr[i].salary,arr[i].dept,arr[i].desg);
                        }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
        }
        else if (op == 4){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                char desg[10];
                printf("\nEnter designation to select: ");
                scanf(" %[^\n]s",desg);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                printf("\nID\t\tNAME\t\tAGE\t\tGENDER\t\tSALARY\t\tDEPT\t\tDESGN\n");
                for (int i=0; i<n-1; i++){
                        if (strcmp(arr[i].desg,desg) == 0){
                        printf("\n%d\t\t%s\t\t%d\t\t%c\t\t%d\t\t%s\t\t%s",arr[i].id,arr[i].name,arr[i].age,arr[i].gen,arr[i].salary,arr[i].dept,arr[i].desg);
                        }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
        }
        else if (op == 5){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                char gen;
                printf("\nEnter Gender (F/M) to select: ");
                scanf(" %c",&gen);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                printf("\nID\t\tNAME\t\tAGE\t\tGENDER\t\tSALARY\t\tDEPT\t\tDESGN\n");
                for (int i=0; i<n-1; i++){
                        if (arr[i].gen == gen){
                        printf("\n%d\t\t%s\t\t%d\t\t%c\t\t%d\t\t%s\t\t%s",arr[i].id,arr[i].name,arr[i].age,arr[i].gen,arr[i].salary,arr[i].dept,arr[i].desg);
                        }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        printf("\n");
}

void sortt(emp* arr){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        int op;
        printf("\nHow do you want to sort?\n1. Employee Name\n2. Employee ID\n\nEnter choice: ");
        scanf("%d",&op);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        int i, j, n = total_count()-1;
        emp e;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        if (op == 1){
                for (i = 0; i < n - 1; i++){
                        for (j = 0; j < n - i - 1; j++){
                                if (strcmp(arr[j].name,arr[j+1].name) > 0){
                                        e = arr[j];                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
                                        arr[j] = arr[j+1];
                                        arr[j+1] = e;
                                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                        }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
        }
        else if (op == 2){
                for (i = 0; i < n - 1; i++){
                        for (j = 0; j < n - i - 1; j++){
                                if (arr[j].id > arr[j + 1].id){
                                        e = arr[j];                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
                                        arr[j] = arr[j+1];
                                        arr[j+1] = e;
                                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                        }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        display(arr);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        printf("\nDo you wish to sort the database as well?\n1. Yes\n2. No\nEnter option: ");
        scanf("%d",&op);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        if (op == 1){
                writefile(arr);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
                rename("./files/temp.txt","./files/mainDB.txt");
        }
}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
int main(){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        int op;
        emp * arr;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   
        arr = get_data();                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        printf("\nWelcome to the Employee Databse Management System!\n");
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        while(1){
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                printf("\nFUNCTIONS:\n\n1. Display Database\n2. Search Databse\n3. Update Database\n4. Add Employee\n5. Select Databse\n6. Sort Databse\n7. Delete Employee\n8. Total Employee\n0. Exit\n");
                printf("\nEnter option: ");
                scanf("%d",&op);
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
                if (op == 1){
                        display(arr);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                else if(op == 2){
                        search(arr);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                else if (op == 3){
                        update(arr);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                else if (op == 4){
                        newemp(arr);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
                        arr = get_data();                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                else if (op == 5){
                        selectt(arr);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                else if (op == 6){
                        sortt(arr);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                else if (op == 7){
                        delete(arr);                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                else if(op == 8){
                        int n = total_count();
                        printf("\nTotal Employees in the databse: %d\n",(n-1));
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                else if (op == 0){
                        break;
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
                else{
                        printf("\nIncorrect option! Please Re-enter.\n");
                        continue;
                }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    
        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     
        return 0;
}